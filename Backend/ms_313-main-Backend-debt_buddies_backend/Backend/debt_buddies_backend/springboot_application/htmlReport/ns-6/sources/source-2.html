


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=windows-1252"> 
  <title>Coverage Report > TexasHoldEm</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">debtbuddies.GameServer.Games.TexasHoldEm</a>
</div>

<h1>Coverage Summary for Class: TexasHoldEm (debtbuddies.GameServer.Games.TexasHoldEm)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Class, %
</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">TexasHoldEm</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/42)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/255)
  </span>
</td>
</tr>

</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package debtbuddies.GameServer.Games.TexasHoldEm;
&nbsp;
&nbsp;import java.util.ArrayList;
&nbsp;import java.util.Comparator;
&nbsp;import java.util.List;
&nbsp;import java.util.Objects;
&nbsp;
&nbsp;import debtbuddies.GameServer.Communication.ServerEvent;
&nbsp;import debtbuddies.GameServer.DeckLibrary.*;
&nbsp;import debtbuddies.GameServer.Games.Game;
&nbsp;import debtbuddies.GameServer.Communication.Response;
&nbsp;import debtbuddies.GameServer.Games.GameInterface;
&nbsp;import debtbuddies.GameServer.Games.TexasHoldEm.TexasHoldEmInfo.*;
&nbsp;import debtbuddies.GameServer.PlayerClasses.Group;
&nbsp;import debtbuddies.GameServer.PlayerClasses.User;
&nbsp;
&nbsp;public class TexasHoldEm extends Game&lt;TexasHoldEmUser&gt; implements GameInterface&lt;TexasHoldEmUser, TexasHoldEm&gt; {
&nbsp;
<b class="nc">&nbsp;    private int QUEUE_SIZE = 3;</b>
<b class="nc">&nbsp;    private final int BASE_ANTE = 10;</b>
&nbsp;    private Deck deck;
&nbsp;    private List&lt;Card&gt; pit;
&nbsp;    private int pot;
&nbsp;    private int ante;
&nbsp;    private int stage;
<b class="nc">&nbsp;    private int p_index = 0;</b>
&nbsp;    private TexasHoldEmUser target_player;
&nbsp;    private TexasHoldEmUser final_player;
&nbsp;
&nbsp;    private String last_move;
&nbsp;
&nbsp;    public TexasHoldEm(List&lt;User&gt; users, int gameId){
<b class="nc">&nbsp;        super(users, gameId);</b>
&nbsp;    }
&nbsp;
&nbsp;    public TexasHoldEm(){
<b class="nc">&nbsp;        super();</b>
<b class="nc">&nbsp;        queue_size = QUEUE_SIZE;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public TexasHoldEm getNewGame(Group lobby, int gameId){
<b class="nc">&nbsp;        return new TexasHoldEm(lobby.getUsers(), gameId);</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    protected void initializeGame(){
<b class="nc">&nbsp;        num_users = users.size();</b>
<b class="nc">&nbsp;        pit = new ArrayList&lt;&gt;();</b>
<b class="nc">&nbsp;        deck = new Deck();</b>
<b class="nc">&nbsp;        ante = BASE_ANTE;</b>
<b class="nc">&nbsp;        running = 1;</b>
<b class="nc">&nbsp;        stage = 0;</b>
<b class="nc">&nbsp;        pot = 0;</b>
<b class="nc">&nbsp;        convertUsers();</b>
<b class="nc">&nbsp;        deal_hole();</b>
<b class="nc">&nbsp;        smallAndBigBlind();</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public TexasHoldEmUser getNewUser(User user){
<b class="nc">&nbsp;        return new TexasHoldEmUser(user);</b>
&nbsp;    }
&nbsp;
&nbsp;    public void getResponse(User user, ServerEvent serverEvent){
&nbsp;
<b class="nc">&nbsp;        TexasHoldEmUser player = userPlayerMap.get(user);</b>
&nbsp;
<b class="nc">&nbsp;        if(running == 0 &amp;&amp; Objects.equals(serverEvent.getAction(), &quot;start&quot;)){</b>
&nbsp;
<b class="nc">&nbsp;            initializeGame();</b>
&nbsp;
<b class="nc">&nbsp;            for(TexasHoldEmUser o_player : players){</b>
<b class="nc">&nbsp;                sendStartInfo(o_player);</b>
<b class="nc">&nbsp;                sendPlayerInfo(o_player);</b>
<b class="nc">&nbsp;            }</b>
&nbsp;
<b class="nc">&nbsp;        }else if(running == 1 &amp;&amp; player == target_player){</b>
<b class="nc">&nbsp;            switch(serverEvent.getAction()) {</b>
&nbsp;                case &quot;fold&quot;:
<b class="nc">&nbsp;                    fold(player);</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                case &quot;call&quot;:
<b class="nc">&nbsp;                    call(player);</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                case &quot;raise&quot;:
<b class="nc">&nbsp;                    raise(player, serverEvent.getValue());</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                default:
&nbsp;                    return;
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            if(getActivePlayers() == 1){</b>
<b class="nc">&nbsp;                TexasHoldEmUser winner = end_game();</b>
<b class="nc">&nbsp;                sendEndInfo(winner);</b>
&nbsp;                return;
&nbsp;            }else{
<b class="nc">&nbsp;                sendPlayerInfo(player);</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            target_player = nextTargetPlayer();</b>
&nbsp;
<b class="nc">&nbsp;            int pre_stage = stage;</b>
&nbsp;
<b class="nc">&nbsp;            if((Objects.equals(serverEvent.getAction(), &quot;call&quot;) || Objects.equals(serverEvent.getAction(), &quot;fold&quot;)) &amp;&amp; target_player == final_player) {</b>
<b class="nc">&nbsp;                switch(++stage){</b>
&nbsp;                    case 1:
<b class="nc">&nbsp;                        flop();</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 2:
<b class="nc">&nbsp;                        turn();</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    case 3:
<b class="nc">&nbsp;                        river();</b>
<b class="nc">&nbsp;                        break;</b>
&nbsp;                    default:
<b class="nc">&nbsp;                        sendEndInfo(end_game());</b>
&nbsp;                        return;
&nbsp;                }
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            if(stage != pre_stage){</b>
<b class="nc">&nbsp;                sendStageInfo();</b>
<b class="nc">&nbsp;                newRound();</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            sendTurnInfo();</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    private void sendPlayerInfo(TexasHoldEmUser player){
<b class="nc">&nbsp;        PlayerInfo playerInfo = new PlayerInfo(player.getBalance(), player.getBet(), player.getAnte());</b>
<b class="nc">&nbsp;        Response.addMessage(playerUserMap.get(player), &quot;playerInfo&quot;, playerInfo);</b>
&nbsp;    }
&nbsp;
&nbsp;    private void sendStartInfo(TexasHoldEmUser player){
<b class="nc">&nbsp;        StartInfo startInfo = new StartInfo(player.getHand(), target_player.toString(), pot, ante);</b>
<b class="nc">&nbsp;        Response.addMessage(playerUserMap.get(player), &quot;startInfo&quot;, startInfo);</b>
&nbsp;    }
&nbsp;
&nbsp;    private void sendEndInfo(TexasHoldEmUser winner){
<b class="nc">&nbsp;        EndInfo endInfo = new EndInfo(winner.toString(), winner.getHigh_hand().toString(), winner.getHand());</b>
<b class="nc">&nbsp;        Response.addMessage(users, &quot;endInfo&quot;, endInfo);</b>
&nbsp;    }
&nbsp;
&nbsp;    private void sendTurnInfo(){
<b class="nc">&nbsp;        TurnInfo turnInfo = new TurnInfo(last_move, target_player.toString(), pot, ante);</b>
<b class="nc">&nbsp;        Response.addMessage(users, &quot;turnInfo&quot;, turnInfo);</b>
&nbsp;    }
&nbsp;
&nbsp;    private void sendStageInfo(){
<b class="nc">&nbsp;        StageInfo stageInfo = new StageInfo(pit);</b>
<b class="nc">&nbsp;        Response.addMessage(users, &quot;stageInfo&quot;, stageInfo);</b>
&nbsp;    }
&nbsp;
&nbsp;    private void newRound(){
<b class="nc">&nbsp;        for(TexasHoldEmUser player : players){</b>
<b class="nc">&nbsp;            player.setAnte(0);</b>
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;        ante = 0;</b>
&nbsp;    }
&nbsp;
&nbsp;    private void smallAndBigBlind(){
&nbsp;
<b class="nc">&nbsp;        players.get(p_index).placeBet(5);</b>
&nbsp;
<b class="nc">&nbsp;        p_index = (p_index + 1) % players.size();</b>
&nbsp;
<b class="nc">&nbsp;        players.get(p_index).placeBet(10);</b>
&nbsp;
<b class="nc">&nbsp;        pot = 15;</b>
<b class="nc">&nbsp;        ante = BASE_ANTE;</b>
&nbsp;
<b class="nc">&nbsp;        target_player = players.get((p_index + 1) % num_users);</b>
<b class="nc">&nbsp;        final_player = target_player;</b>
&nbsp;    }
&nbsp;
&nbsp;    private TexasHoldEmUser end_game(){
<b class="nc">&nbsp;        running = 0;</b>
<b class="nc">&nbsp;        if(getActivePlayers() == 1){</b>
<b class="nc">&nbsp;            for(TexasHoldEmUser player : players){</b>
<b class="nc">&nbsp;                if(!player.foldStatus()){</b>
<b class="nc">&nbsp;                    return player;</b>
&nbsp;                }
<b class="nc">&nbsp;            }</b>
&nbsp;        }
<b class="nc">&nbsp;        return decideWinner();</b>
&nbsp;    }
&nbsp;
&nbsp;    private void fold(TexasHoldEmUser player){
<b class="nc">&nbsp;        player.foldHand();</b>
<b class="nc">&nbsp;        last_move = &quot;fold&quot;;</b>
&nbsp;    }
&nbsp;
&nbsp;    private void call(TexasHoldEmUser player){
<b class="nc">&nbsp;        int increase = ante - player.getAnte();</b>
<b class="nc">&nbsp;        pot += player.placeBet(increase);</b>
<b class="nc">&nbsp;        last_move = &quot;call&quot;;</b>
&nbsp;    }
&nbsp;
&nbsp;    private void raise(TexasHoldEmUser player, int ante_increase){
<b class="nc">&nbsp;        ante += ante_increase;</b>
<b class="nc">&nbsp;        int increase = ante - player.getAnte();</b>
<b class="nc">&nbsp;        pot += player.placeBet(increase);</b>
<b class="nc">&nbsp;        final_player = player;</b>
<b class="nc">&nbsp;        last_move = &quot;raise&quot;;</b>
&nbsp;    }
&nbsp;
&nbsp;    private TexasHoldEmUser nextTargetPlayer(){
<b class="nc">&nbsp;        TexasHoldEmUser temp = players.get((players.indexOf(target_player) + 1) % players.size());</b>
<b class="nc">&nbsp;        while(temp.foldStatus()){</b>
<b class="nc">&nbsp;            temp = players.get((players.indexOf(temp) + 1) % players.size());</b>
&nbsp;        }
<b class="nc">&nbsp;        return temp;</b>
&nbsp;    }
&nbsp;
&nbsp;    private int getActivePlayers(){
<b class="nc">&nbsp;        int active = 0;</b>
<b class="nc">&nbsp;        for(TexasHoldEmUser player : players){</b>
<b class="nc">&nbsp;            if(!player.foldStatus()){ active++; }</b>
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;        return active;</b>
&nbsp;    }
&nbsp;
&nbsp;    private List&lt;TexasHoldEmUser&gt; getActiveUsers(){
<b class="nc">&nbsp;        List&lt;TexasHoldEmUser&gt; active = new ArrayList&lt;&gt;();</b>
<b class="nc">&nbsp;        for(TexasHoldEmUser user : players){</b>
<b class="nc">&nbsp;            if(!user.foldStatus()){</b>
<b class="nc">&nbsp;                active.add(user);</b>
&nbsp;            }
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;        return active;</b>
&nbsp;    }
&nbsp;
&nbsp;    public void deal_hole(){
<b class="nc">&nbsp;        for(int i = 0; i &lt; 2; i++){</b>
<b class="nc">&nbsp;            for(int j = 0; j &lt; num_users; j++){</b>
<b class="nc">&nbsp;                players.get(j).draw(deck);</b>
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;    private void flop(){
<b class="nc">&nbsp;        for(int i = 0; i &lt; 3; i++){</b>
<b class="nc">&nbsp;            pit.add(deck.draw());</b>
&nbsp;        }
&nbsp;    }
&nbsp;    private void turn(){
<b class="nc">&nbsp;        pit.add(deck.draw());</b>
&nbsp;    }
&nbsp;    private void river(){
<b class="nc">&nbsp;        pit.add(deck.draw());</b>
&nbsp;    }
&nbsp;/*
&nbsp;    public List&lt;TexasHoldEmUser&gt; decideWinners(){
&nbsp;        List&lt;TexasHoldEmUser&gt; activePlayers = getActiveUsers();
&nbsp;        if(activePlayers.size() == 1){
&nbsp;            return activePlayers;
&nbsp;        }
&nbsp;
&nbsp;        int high_index = 0;
&nbsp;        PokerHands high_hand = PokerHands.LOW;
&nbsp;
&nbsp;        for(int i = 0; i &lt; activePlayers.size(); i++){
&nbsp;            PokerHands player_high = getHigh(i);
&nbsp;            if(player_high.getValue() &gt; high_hand.getValue()){
&nbsp;                high_index = i;
&nbsp;                high_hand = player_high;
&nbsp;            }else if(player_high.getValue() == high_hand.getValue()){
&nbsp;
&nbsp;            }
&nbsp;        }
&nbsp;        return activePlayers;
&nbsp;    }
&nbsp;*/
&nbsp;    public TexasHoldEmUser decideWinner(){
<b class="nc">&nbsp;        int high_index = 0;</b>
<b class="nc">&nbsp;        PokerHands high_hand = PokerHands.LOW;</b>
&nbsp;
<b class="nc">&nbsp;        for(int i = 0; i &lt; num_users; i++){</b>
<b class="nc">&nbsp;            if(players.get(i).foldStatus()){ continue; }</b>
<b class="nc">&nbsp;            PokerHands player_high = getHigh(i);</b>
<b class="nc">&nbsp;            if(player_high.getValue() &gt; high_hand.getValue()){</b>
<b class="nc">&nbsp;                high_index = i;</b>
<b class="nc">&nbsp;                high_hand = player_high;</b>
&nbsp;            }
&nbsp;            /*
&nbsp;            else if(player_high.getValue() == high_hand.getValue()){
&nbsp;                TexasHoldEmUser player1 = players.get(high_index);
&nbsp;                TexasHoldEmUser player2 = players.get(i);
&nbsp;                try {
&nbsp;                    int winner = tiebreaker(player1, player2);
&nbsp;                    if(winner == 0){
&nbsp;                        high_index = players.indexOf(player1);
&nbsp;                    }else if(winner == 1){
&nbsp;                        high_index = players.indexOf(player2);
&nbsp;                    }
&nbsp;                }catch(Exception e){
&nbsp;                    e.printStackTrace();
&nbsp;                    throw new RuntimeException(e);
&nbsp;                }
&nbsp;            }
&nbsp;             */
&nbsp;        }
<b class="nc">&nbsp;        return players.get(high_index);</b>
&nbsp;    }
&nbsp;    private int tiebreaker(TexasHoldEmUser player1, TexasHoldEmUser player2){
<b class="nc">&nbsp;        List&lt;Card&gt; p1_total = getTotal(player1.getHand(), pit);</b>
<b class="nc">&nbsp;        List&lt;Card&gt; p2_total = getTotal(player2.getHand(), pit);</b>
<b class="nc">&nbsp;        Deck.CardManager.sortCards(p1_total);</b>
<b class="nc">&nbsp;        Deck.CardManager.sortCards(p2_total);</b>
<b class="nc">&nbsp;        removeDuplicates(p1_total, p2_total);</b>
<b class="nc">&nbsp;        for(int i = p1_total.size() - 1; i &gt;= 0; i--){</b>
<b class="nc">&nbsp;            if(p1_total.get(i).getRank() &gt; p2_total.get(i).getRank()){</b>
<b class="nc">&nbsp;                return 0;</b>
<b class="nc">&nbsp;            }else if(p2_total.get(i).getRank() &gt; p1_total.get(i).getRank()){</b>
<b class="nc">&nbsp;                return 1;</b>
&nbsp;            }
&nbsp;        }
<b class="nc">&nbsp;        return 2;</b>
&nbsp;    }
&nbsp;
&nbsp;    private void removeDuplicates(List&lt;Card&gt; l0, List&lt;Card&gt; l1){
<b class="nc">&nbsp;        List&lt;Card&gt; overlap = new ArrayList&lt;&gt;();</b>
<b class="nc">&nbsp;        for(Card card : l0){</b>
<b class="nc">&nbsp;            for(int i = 0; i &lt; l1.size(); i++){</b>
<b class="nc">&nbsp;                if(card.getRank() == l1.get(i).getRank()){</b>
<b class="nc">&nbsp;                    overlap.add(l1.get(i));</b>
<b class="nc">&nbsp;                    l1.remove(l1.get(i));</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                }
&nbsp;            }
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;        if(overlap.isEmpty()){ return;}</b>
<b class="nc">&nbsp;        for(Card card : overlap){</b>
<b class="nc">&nbsp;            for(int i = 0; i &lt; l0.size(); i++){</b>
<b class="nc">&nbsp;                if(card.getRank() == l0.get(i).getRank()){</b>
<b class="nc">&nbsp;                    l0.remove(l0.get(i));</b>
<b class="nc">&nbsp;                    break;</b>
&nbsp;                }
&nbsp;            }
<b class="nc">&nbsp;        }</b>
&nbsp;    }
&nbsp;
&nbsp;    private List&lt;Card&gt; getTotal(List&lt;Card&gt; deck1, List&lt;Card&gt; deck2){
<b class="nc">&nbsp;        List&lt;Card&gt; total = new ArrayList&lt;&gt;();</b>
<b class="nc">&nbsp;        total.addAll(deck1);</b>
<b class="nc">&nbsp;        total.addAll(deck2);</b>
<b class="nc">&nbsp;        return total;</b>
&nbsp;    }
&nbsp;
&nbsp;    private PokerHands getHigh(int index){
&nbsp;
<b class="nc">&nbsp;        List&lt;Card&gt; handAndPit = getTotal(players.get(index).getHand(), pit);</b>
&nbsp;
<b class="nc">&nbsp;        Deck.CardManager.sortCards(handAndPit);</b>
&nbsp;
<b class="nc">&nbsp;        PokerHands hh = convertHigh(handAndPit);</b>
&nbsp;
<b class="nc">&nbsp;        players.get(index).setHigh_hand(hh);</b>
&nbsp;
<b class="nc">&nbsp;        return hh;</b>
&nbsp;    }
&nbsp;
&nbsp;    private List&lt;Integer&gt; countNumbers(List&lt;Card&gt; cards){
<b class="nc">&nbsp;        List&lt;Integer&gt; values = new ArrayList&lt;&gt;();</b>
&nbsp;
<b class="nc">&nbsp;        int count = 1;</b>
&nbsp;
<b class="nc">&nbsp;        for(int i = 1; i &lt; cards.size(); i++){</b>
<b class="nc">&nbsp;            if(cards.get(i).getRank() == cards.get(i - 1).getRank()){</b>
<b class="nc">&nbsp;                count++;</b>
&nbsp;            }else{
<b class="nc">&nbsp;                values.add(count);</b>
<b class="nc">&nbsp;                count = 1;</b>
&nbsp;            }
&nbsp;        }
<b class="nc">&nbsp;        return values;</b>
&nbsp;    }
&nbsp;
&nbsp;    private PokerHands convertHigh(List&lt;Card&gt; cards){
<b class="nc">&nbsp;        if(royalFlush(cards)){</b>
<b class="nc">&nbsp;            return PokerHands.ROYAL_FLUSH;</b>
<b class="nc">&nbsp;        }else if(straightFlush(cards)){</b>
<b class="nc">&nbsp;            return PokerHands.STRAIGHT_FLUSH;</b>
<b class="nc">&nbsp;        }else if(fourOfAKind(cards)){</b>
<b class="nc">&nbsp;            return PokerHands.FOUR_OF_A_KIND;</b>
<b class="nc">&nbsp;        }else if(fullHouse(cards)){</b>
<b class="nc">&nbsp;            return PokerHands.FULL_HOUSE;</b>
<b class="nc">&nbsp;        }else if(flush(cards)){</b>
<b class="nc">&nbsp;            return PokerHands.FLUSH;</b>
<b class="nc">&nbsp;        }else if(straight(cards)){</b>
<b class="nc">&nbsp;            return PokerHands.STRAIGHT;</b>
<b class="nc">&nbsp;        }else if(threeOfAKind(cards)) {</b>
<b class="nc">&nbsp;            return PokerHands.THREE_OF_A_KIND;</b>
<b class="nc">&nbsp;        }else if(twoPair(cards)){</b>
<b class="nc">&nbsp;            return PokerHands.TWO_PAIR;</b>
<b class="nc">&nbsp;        }else if(pair(cards)){</b>
<b class="nc">&nbsp;            return PokerHands.PAIR;</b>
&nbsp;        }else{
<b class="nc">&nbsp;            return getHighEnum(cards);</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    private boolean royalFlush(List&lt;Card&gt; cards){
<b class="nc">&nbsp;        List&lt;Card&gt; temp = new ArrayList&lt;&gt;();</b>
<b class="nc">&nbsp;        for (Card card : cards) {</b>
<b class="nc">&nbsp;            if (card.getRank() &gt;= 10) {</b>
<b class="nc">&nbsp;                temp.add(card);</b>
&nbsp;            }
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;        if(temp.size() &lt; 5){</b>
<b class="nc">&nbsp;            return false;</b>
&nbsp;        }
<b class="nc">&nbsp;        return straightFlush(temp);</b>
&nbsp;    }
&nbsp;/*
&nbsp;    private List&lt;Card&gt; checkRoyalFlush(List&lt;Card&gt; cards){
&nbsp;        List&lt;Card&gt; temp = new ArrayList&lt;&gt;();
&nbsp;        for(Card card : cards){
&nbsp;            if(card.getRank() &gt;= 10){
&nbsp;                temp.add(card);
&nbsp;            }
&nbsp;        }
&nbsp;        if(temp.size() &lt; 5){
&nbsp;            return new ArrayList&lt;&gt;();
&nbsp;        }
&nbsp;        return checkStraightFlush(temp);
&nbsp;    }
&nbsp;*/
&nbsp;    private boolean straightFlush(List&lt;Card&gt; cards){
<b class="nc">&nbsp;        for(int i = 0; i &lt; cards.size() - 4; i++){</b>
<b class="nc">&nbsp;            int count = 1;</b>
<b class="nc">&nbsp;            for(int j = 1; j &lt; 5; j++){</b>
<b class="nc">&nbsp;                if(Deck.CardManager.contains(cards, cards.get(i).getSuit(), cards.get(i).getRank() + j)){</b>
<b class="nc">&nbsp;                    if(++count == 5){ return true; }</b>
&nbsp;                }
&nbsp;            }
&nbsp;        }
<b class="nc">&nbsp;        return false;</b>
&nbsp;    }
&nbsp;/*
&nbsp;    private List&lt;Card&gt; checkStraightFlush(List&lt;Card&gt; cards){
&nbsp;        for(int i = 0; i &lt; cards.size() - 4; i++){
&nbsp;            List&lt;Card&gt; temp = new ArrayList&lt;&gt;();
&nbsp;            temp.add(cards.get(i));
&nbsp;            for(int j = 1; j &lt; 5; j++){
&nbsp;                if(cards.get(i).getSuit() == cards.get(i + j).getSuit() &amp;&amp; cards.get(i).getRank() + j == cards.get(i + j).getRank()){
&nbsp;                    temp.add(cards.get(i + j));
&nbsp;                    if(temp.size() == 5){ return temp; }
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;        return new ArrayList&lt;&gt;();
&nbsp;    }
&nbsp;*/
&nbsp;    private boolean fourOfAKind(List&lt;Card&gt; cards){
&nbsp;
<b class="nc">&nbsp;        List&lt;Integer&gt; values = countNumbers(cards);</b>
&nbsp;
<b class="nc">&nbsp;        for(Integer value : values){</b>
<b class="nc">&nbsp;            if(values.get(value) == 4){ return true; }</b>
<b class="nc">&nbsp;        }</b>
&nbsp;
<b class="nc">&nbsp;        return false;</b>
&nbsp;    }
&nbsp;/*
&nbsp;    private List&lt;Card&gt; checkFourOfAKind(List&lt;Card&gt; cards){
&nbsp;        List&lt;Integer&gt; values = countNumbers(cards);
&nbsp;        List&lt;Card&gt; temp = new ArrayList&lt;&gt;();
&nbsp;
&nbsp;        for(Integer value : values){
&nbsp;            if(values.get(value) == 4){
&nbsp;                for(Card card : cards){
&nbsp;                    if(card.getRank() == value){
&nbsp;                        temp.add(card);
&nbsp;                    }
&nbsp;                }
&nbsp;                return temp;
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;        return new ArrayList&lt;&gt;();
&nbsp;    }
&nbsp;*/
&nbsp;    private boolean fullHouse(List&lt;Card&gt; cards){
&nbsp;
<b class="nc">&nbsp;        List&lt;Integer&gt; values = countNumbers(cards);</b>
&nbsp;
<b class="nc">&nbsp;        int twoCount = 0, threeCount = 0;</b>
&nbsp;
<b class="nc">&nbsp;        for(Integer value : values){</b>
<b class="nc">&nbsp;            if(values.get(value) == 3){</b>
<b class="nc">&nbsp;                threeCount++;</b>
<b class="nc">&nbsp;            }else if(values.get(value) == 2){</b>
<b class="nc">&nbsp;                twoCount++;</b>
&nbsp;            }
<b class="nc">&nbsp;        }</b>
&nbsp;
<b class="nc">&nbsp;        return threeCount == 2 || (threeCount == 1 &amp;&amp; twoCount &gt;= 1);</b>
&nbsp;    }
&nbsp;/*
&nbsp;    private List&lt;Card&gt; checkFullHouse(List&lt;Card&gt; cards){
&nbsp;        List&lt;Integer&gt; values = countNumbers(cards);
&nbsp;
&nbsp;        List&lt;Card&gt; temp = new ArrayList&lt;&gt;();
&nbsp;
&nbsp;        int twoCount = 0, threeCount = 0;
&nbsp;
&nbsp;        List&lt;Integer&gt; threes = new ArrayList&lt;&gt;();
&nbsp;        List&lt;Integer&gt; twos = new ArrayList&lt;&gt;();
&nbsp;
&nbsp;        for(Integer value : values){
&nbsp;            if(values.get(value) == 3){
&nbsp;                threeCount++;
&nbsp;                threes.add(value);
&nbsp;            }else if(values.get(value) == 2){
&nbsp;                twoCount++;
&nbsp;                twos.add(value);
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;        if(threeCount == 2 || (threeCount == 1 &amp;&amp; twoCount &gt;= 1)) {
&nbsp;
&nbsp;            if (threes.size() &gt; 1) {
&nbsp;                if (threes.get(0) &gt; threes.get(1)) {
&nbsp;                    for (Card card : cards) {
&nbsp;                        if (card.getRank() == threes.get(0)) {
&nbsp;                            temp.add(card);
&nbsp;                        }
&nbsp;                    }
&nbsp;                    if(twoCount &gt; 0){
&nbsp;                        int maxnum = threes.get(1);
&nbsp;                        for(Integer h : twos){
&nbsp;                            if(h &gt; maxnum){
&nbsp;                                maxnum = h;
&nbsp;                            }
&nbsp;                        }
&nbsp;                        for(Card card : cards){
&nbsp;                            if(card.getRank() == maxnum){
&nbsp;                                temp.add(card);
&nbsp;                                if(temp.size() == 5){
&nbsp;                                    return temp;
&nbsp;                                }
&nbsp;                            }
&nbsp;                        }
&nbsp;                    }
&nbsp;                } else {
&nbsp;                    for (Card card : cards) {
&nbsp;                        if (card.getRank() == threes.get(1)){
&nbsp;                            temp.add(card);
&nbsp;                        }
&nbsp;                    }
&nbsp;                    if(twoCount &gt; 0){
&nbsp;                        int maxnum = threes.get(0);
&nbsp;                        for(Integer h : twos){
&nbsp;                            if(h &gt; maxnum){
&nbsp;                                maxnum = h;
&nbsp;                            }
&nbsp;                        }
&nbsp;                        for(Card card : cards){
&nbsp;                            if(card.getRank() == maxnum){
&nbsp;                                temp.add(card);
&nbsp;                                if(temp.size() == 5){
&nbsp;                                    return temp;
&nbsp;                                }
&nbsp;                            }
&nbsp;                        }
&nbsp;                    }
&nbsp;                }
&nbsp;
&nbsp;            }else{
&nbsp;                int targ = threes.get(0);
&nbsp;                for(Card card : cards){
&nbsp;                    if(card.getRank() == targ){
&nbsp;                        temp.add(card);
&nbsp;                    }
&nbsp;                }
&nbsp;                int mx = twos.get(0);
&nbsp;                if(twos.size() &gt; 1){
&nbsp;                    for(Integer val : twos){
&nbsp;                        if(val &gt; mx){
&nbsp;                            mx = val;
&nbsp;                        }
&nbsp;                    }
&nbsp;                }
&nbsp;                for(Card card : cards){
&nbsp;                    if(card.getRank() == mx){
&nbsp;                        temp.add(card);
&nbsp;                    }
&nbsp;                }
&nbsp;                return temp;
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;        return new ArrayList&lt;&gt;();
&nbsp;    }
&nbsp;*/
&nbsp;    private boolean flush(List&lt;Card&gt; cards){
<b class="nc">&nbsp;        for(Suit suit : Suit.values()){</b>
<b class="nc">&nbsp;            int count = 0;</b>
<b class="nc">&nbsp;            for(Card card : cards){</b>
<b class="nc">&nbsp;                if(card.getSuit() == suit){ count++; }</b>
<b class="nc">&nbsp;            }</b>
<b class="nc">&nbsp;            if(count &gt;= 5){ return true; }</b>
&nbsp;        }
<b class="nc">&nbsp;        return false;</b>
&nbsp;    }
&nbsp;/*
&nbsp;    private List&lt;Card&gt; checkFlush(List&lt;Card&gt; cards){
&nbsp;        for(Suit suit : Suit.values()){
&nbsp;            List&lt;Card&gt; temp = new ArrayList&lt;&gt;();
&nbsp;            for(int i = cards.size() - 1; i &gt;= 0; i--){
&nbsp;                if(cards.get(i).getSuit() == suit){ temp.add(cards.get(i)); }
&nbsp;            }
&nbsp;            if(temp.size() &gt;= 5){ return temp; }
&nbsp;        }
&nbsp;        return new ArrayList&lt;&gt;();
&nbsp;    }
&nbsp;*/
&nbsp;    private boolean straight(List&lt;Card&gt; cards){
<b class="nc">&nbsp;        for(int i = 0; i &lt; cards.size() - 4; i++){</b>
<b class="nc">&nbsp;            int count = 1;</b>
<b class="nc">&nbsp;            for(int j = 1; j &lt; 5; j++){</b>
<b class="nc">&nbsp;                if(Deck.CardManager.contains(cards, cards.get(i).getRank() + j)){</b>
<b class="nc">&nbsp;                    if(++count == 5){ return true; }</b>
&nbsp;                }
&nbsp;            }
&nbsp;        }
<b class="nc">&nbsp;        return false;</b>
&nbsp;    }
&nbsp;/*
&nbsp;    private List&lt;Card&gt; checkStraight(List&lt;Card&gt; cards){
&nbsp;        for(int i = 0; i &lt; cards.size() - 4; i++){
&nbsp;            List&lt;Card&gt; temp = new ArrayList&lt;&gt;();
&nbsp;            for(int j = 1; j &lt; 5; j++){
&nbsp;                if(cards.get(i).getRank() + j == cards.get(i + j).getRank()){
&nbsp;                    temp.add(cards.get(i + j));
&nbsp;                    if(temp.size() == 5){
&nbsp;                        return temp;
&nbsp;                    }
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;        return new ArrayList&lt;&gt;();
&nbsp;    }
&nbsp;*/
&nbsp;    private boolean threeOfAKind(List&lt;Card&gt; cards){
<b class="nc">&nbsp;        List&lt;Integer&gt; values = countNumbers(cards);</b>
&nbsp;
<b class="nc">&nbsp;        for(Integer i : values){</b>
<b class="nc">&nbsp;            if(values.get(i) == 3){ return true; }</b>
<b class="nc">&nbsp;        }</b>
&nbsp;
<b class="nc">&nbsp;        return false;</b>
&nbsp;    }
&nbsp;/*
&nbsp;    private List&lt;Card&gt; checkThreeOfAKind(List&lt;Card&gt; cards){
&nbsp;        List&lt;Integer&gt; values = countNumbers(cards);
&nbsp;
&nbsp;        for(Integer i : values){
&nbsp;            if(values.get(i) == 3){
&nbsp;                List&lt;Card&gt; temp = new ArrayList&lt;&gt;();
&nbsp;                for(Card card : cards){
&nbsp;                    if(card.getRank() == i){
&nbsp;                        temp.add(card);
&nbsp;                    }
&nbsp;                }
&nbsp;                return temp;
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;        return new ArrayList&lt;&gt;();
&nbsp;    }
&nbsp;*/
&nbsp;    private boolean twoPair(List&lt;Card&gt; cards){
<b class="nc">&nbsp;        List&lt;Integer&gt; values = countNumbers(cards);</b>
<b class="nc">&nbsp;        int count = 0;</b>
&nbsp;
<b class="nc">&nbsp;        for(Integer value : values){</b>
<b class="nc">&nbsp;            if(values.get(value) == 2){ count++; }</b>
<b class="nc">&nbsp;        }</b>
&nbsp;
<b class="nc">&nbsp;        return count &gt;= 2;</b>
&nbsp;    }
&nbsp;/*
&nbsp;    private List&lt;Card&gt; checkTwoPair(List&lt;Card&gt; cards){
&nbsp;        List&lt;Integer&gt; values = countNumbers(cards);
&nbsp;        List&lt;Card&gt; temp = new ArrayList&lt;&gt;();
&nbsp;        for(Integer value : values){
&nbsp;            if(values.get(value) == 2){
&nbsp;                for(Card card : cards){
&nbsp;                    if(card.getRank() == value){
&nbsp;                        temp.add(card);
&nbsp;                        if(temp.size() == 4){
&nbsp;                            return temp;
&nbsp;                        }
&nbsp;                    }
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;        return new ArrayList&lt;&gt;();
&nbsp;    }
&nbsp;*/
&nbsp;    private boolean pair(List&lt;Card&gt; cards){
<b class="nc">&nbsp;        List&lt;Integer&gt; values = countNumbers(cards);</b>
&nbsp;
<b class="nc">&nbsp;        for(Integer i : values){</b>
<b class="nc">&nbsp;            if(values.get(i) == 2){ return true; }</b>
<b class="nc">&nbsp;        }</b>
&nbsp;
<b class="nc">&nbsp;        return false;</b>
&nbsp;    }
&nbsp;/*
&nbsp;    private List&lt;Card&gt; checkPair(List&lt;Card&gt; cards){
&nbsp;        List&lt;Integer&gt; values = countNumbers(cards);
&nbsp;
&nbsp;        List&lt;Card&gt; temp = new ArrayList&lt;&gt;();
&nbsp;
&nbsp;        for(Integer i : values){
&nbsp;            if(values.get(i) == 2){
&nbsp;                for(Card card : cards){
&nbsp;                    if(card.getRank() == i){
&nbsp;                        temp.add(card);
&nbsp;                    }
&nbsp;                }
&nbsp;                return temp;
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;        return new ArrayList&lt;&gt;();
&nbsp;    }
&nbsp;*/
&nbsp;    private PokerHands getHighEnum(List&lt;Card&gt; cards){
<b class="nc">&nbsp;        switch(cards.get(cards.size() - 1).getRank()){</b>
&nbsp;            case 2:
<b class="nc">&nbsp;                return PokerHands.HIGH_TWO;</b>
&nbsp;            case 3:
<b class="nc">&nbsp;                return PokerHands.HIGH_THREE;</b>
&nbsp;            case 4:
<b class="nc">&nbsp;                return PokerHands.HIGH_FOUR;</b>
&nbsp;            case 5:
<b class="nc">&nbsp;                return PokerHands.HIGH_FIVE;</b>
&nbsp;            case 6:
<b class="nc">&nbsp;                return PokerHands.HIGH_SIX;</b>
&nbsp;            case 7:
<b class="nc">&nbsp;                return PokerHands.HIGH_SEVEN;</b>
&nbsp;            case 8:
<b class="nc">&nbsp;                return PokerHands.HIGH_EIGHT;</b>
&nbsp;            case 9:
<b class="nc">&nbsp;                return PokerHands.HIGH_NINE;</b>
&nbsp;            case 10:
<b class="nc">&nbsp;                return PokerHands.HIGH_TEN;</b>
&nbsp;            case 11:
<b class="nc">&nbsp;                return PokerHands.HIGH_JACK;</b>
&nbsp;            case 12:
<b class="nc">&nbsp;                return PokerHands.HIGH_QUEEN;</b>
&nbsp;            case 13:
<b class="nc">&nbsp;                return PokerHands.HIGH_KING;</b>
&nbsp;            default:
<b class="nc">&nbsp;                return PokerHands.HIGH_ACE;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public String toString(){
<b class="nc">&nbsp;        return Integer.toString(gameId);</b>
&nbsp;    }
&nbsp;
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2023-12-04 11:00</div>
</div>
</body>
</html>
